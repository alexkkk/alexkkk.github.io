---
title: Erlang学习笔记
date: 2016-06-12 13:32:50
tags: Erlang
---

最近在网上看一些分布式cache的开发代码，发现挺多都是用Erlang写的，据说有如下的优点：
- 申明式语法
   Erlang具备申明式的语法，且大部分都无副作用。

- 并发
   Erlang具备一个使用消息传递的基于进程的并发模型。Erlang的并发机制是轻量级的，如进程只占用极少的内存，进程的创建、删除以及消息传递也都只涉及极少量的计算。

- 实时
   Erlang可用于对相应延迟在毫秒数量级的软实时系统进行编程。

- 持续运作
   Erlang具备替换运行时系统代码的原语，并允许新旧版本的代码同时执行。这在电话交换机、空中交通控制等“不停机”系统中有极大的用处，这些系统在软件变更时都不能停机。

- 健壮
   在上述系统中，安全性是一个关键需求。Erlang具备三种结构来检测运行时错误。这些可用于编写健壮的系统。

- 内存管理
   Erlang是一门具备实时垃圾回收机制的符号计算语言。内存在需要时自动分配，在不需要时自动回收。典型的内存管理相关的编程错误都不再存在。

- 分布式
   Erlang没有内存共享。所有进程间交互都通过异步消息传递完成。使用Erlang可以轻易地构建分布式系统。为单处理器编写的应用不花什么力气就可以移植到处理器网络上运行。

- 集成
   Erlang可以简单地调用其他语言编写的程序。通过Erlang的接口系统，这些程序对于程序员来看就好像是用Erlang编写的一样。

所以开始先了解一点Erlang的东西，记录如下：

## 2016/06/12
先说下折腾的环境OS X EI Capitan Version 10.11.5
### 1.安装
Mac下安装Erlang比较简单: `brew install erlang` 

### 2.交互式shell
![erl_shell](https://www.evernote.com/l/AB689pLs2lRIIbh7W4r8jqO2DF3Z4gUi34gB/image.png)
总结：
1. 命令真正执行不能少了'.'
2. '.'和之前的输入不能有空格，但是可以换行

### 3.代码测试
```Erlang
%%模块名称必须与文件名称相同
-module(fib).                       

%%导出的接口，接口名称/参数个数
-export([fibo/1, printfibo/1]).

%% print fibo arg. and result, with function as parameter

printfibo(N) ->
   Res = fib:fibo(N),
   io:fwrite("~w ~w~n", [N, Res]).

fibo(0) -> 0 ;
fibo(1) -> 1 ;
fibo(N) when N > 0 -> fibo(N-1) + fibo(N-2) .
```

在shell中使用c()语句编译并装载模块
```shell
1> c(fib).
{ok,fib}
2> fib:printfibo(9).
9 34
ok
```
总结：
1. 函数调用要包含模块名
